<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gulf Hoops Rankings</title>
  <link rel="stylesheet" href="css/rankings.css">
</head>
<body>

<header>
  <div class="container">
    <h1>Gulf Hoops Rankings</h1>
  </div>
</header>

<main class="rankings-page">
  <div class="container">

    <!-- FILTERS -->
    <div class="filters" style="text-align:center; margin-bottom:20px;">
      <select id="filter-country">
        <option value="All">All Countries</option>
        <option value="Bahrain">Bahrain</option>
        <option value="Qatar">Qatar</option>
        <option value="UAE">UAE</option>
        <option value="Saudi Arabia">Saudi Arabia</option>
        <option value="Kuwait">Kuwait</option>
        <option value="Oman">Oman</option>
      </select>

      <select id="filter-category">
        <option value="All">All Categories</option>
        <option value="U16">U16</option>
        <option value="U18">U18</option>
        <option value="U22">U22</option>
        <option value="Main">Main Team</option>
      </select>
    </div>

    <!-- PLAYER LIST -->
    <div class="rankings-grid" id="rankings-grid">
      <!-- JS will populate players here -->
    </div>

  </div>
</main>

<script>
fetch('data/players.json')
  .then(res => res.json())
  .then(players => {

    const grid = document.getElementById('rankings-grid');
    const filterCountry = document.getElementById('filter-country');
    const filterCategory = document.getElementById('filter-category');

    function renderList() {
      grid.innerHTML = '';
      let list = players
        .filter(p => filterCountry.value === 'All' || p.country === filterCountry.value)
        .filter(p => filterCategory.value === 'All' || p.category === filterCategory.value);

      list.sort((a,b) => a.rankOverall - b.rankOverall);

      list.forEach(player => {
        const row = document.createElement('div');
        row.className = 'player-card';
        row.innerHTML = `
          <div class="rank-badge">${player.rankOverall}</div>
          <div class="player-info">
            <h3>${player.name}</h3>
            <img class="flag" src="${player.countryFlag}" alt="${player.country}">
            <span class="category">${player.category}</span>
          </div>
        `;
        grid.appendChild(row);
      });
    }

    filterCountry.onchange = renderList;
    filterCategory.onchange = renderList;
    renderList();

  })
  .catch(err => console.error('Error loading players:', err));
</script>

</body>
</html>
