<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gulf Hoops Rankings</title>
  <!-- Link to your new rankings.css -->
  <link rel="stylesheet" href="css/rankings.css">
</head>
<body>

<header>
  <div class="container">
    <h1>Gulf Hoops Rankings</h1>
  </div>
</header>

<main class="rankings-page">
  <div class="container">

    <!-- FILTERS -->
    <div class="filters">
      <select id="filter-country">
        <option value="All">All Countries</option>
        <option value="Bahrain">Bahrain</option>
        <option value="Qatar">Qatar</option>
        <option value="UAE">UAE</option>
        <option value="Saudi Arabia">Saudi Arabia</option>
        <option value="Kuwait">Kuwait</option>
        <option value="Oman">Oman</option>
      </select>

      <select id="filter-category">
        <option value="All">All Categories</option>
        <option value="U16">U16</option>
        <option value="U18">U18</option>
        <option value="U22">U22</option>
        <option value="Main">Main Team</option>
      </select>
    </div>

    <!-- PLAYER CARDS GRID -->
    <div class="rankings-grid" id="rankings-grid">
      <!-- JS will populate cards here -->
    </div>

  </div>
</main>

<script>
// Load players from JSON
fetch('data/players.json')
  .then(res => res.json())
  .then(players => {

    const grid = document.getElementById('rankings-grid');
    const filterCountry = document.getElementById('filter-country');
    const filterCategory = document.getElementById('filter-category');

    function renderList() {
      grid.innerHTML = '';
      let list = players
        .filter(p => filterCountry.value === 'All' || p.country === filterCountry.value)
        .filter(p => filterCategory.value === 'All' || p.category === filterCategory.value);

      list.sort((a,b) => a.rankOverall - b.rankOverall);

      list.forEach(player => {
        const card = document.createElement('div');
        card.className = 'player-card';
        card.innerHTML = `
          <div class="rank-badge">${player.rankOverall}</div>
          <img src="${player.photo}" alt="${player.name}">
          <h3>${player.name}</h3>
          <div class="player-info">
            <img class="flag" src="${player.countryFlag}" alt="${player.country}">
            <p>${player.country} â€¢ ${player.category}</p>
          </div>
        `;
        grid.appendChild(card);
      });
    }

    filterCountry.onchange = renderList;
    filterCategory.onchange = renderList;
    renderList();

  })
  .catch(err => console.error('Error loading players:', err));
</script>

</body>
</html>
